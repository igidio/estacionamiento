(function(e){function t(t){for(var n,c,i=t[0],s=t[1],l=t[2],u=0,d=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);b&&b(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,c=1;c<a.length;c++){var s=a[c];0!==o[s]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},o={app:0},r=[];function c(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"3291dd16"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a=o[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=n);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=c(e);var l=new Error;r=function(t){s.onerror=s.onload=null,clearTimeout(u);var a=o[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",l.name="ChunkLoadError",l.type=n,l.request=r,a[1](l)}o[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:s})}),12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var b=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"166b":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("2591"),o={apiKey:"AIzaSyBaEdXpIzEiPWGkLJ0pOLG-Cw1-w4uLnSo",authDomain:"estacionamiento-924f2.firebaseapp.com",databaseURL:"https://estacionamiento-924f2-default-rtdb.firebaseio.com",projectId:"estacionamiento-924f2",storageBucket:"estacionamiento-924f2.appspot.com",messagingSenderId:"630654601417",appId:"1:630654601417:web:c0b013bce1e4592813e518"},r=n["a"].initializeApp(o),c=r.firestore()},4360:function(e,t,a){"use strict";var n=a("1da1"),o=(a("96cf"),a("d3b7"),a("5502")),r=a("a18c");t["a"]=Object(o["a"])({state:{user:null},mutations:{setUser:function(e,t){e.user=t}},actions:{cerrarSesion:function(e){var t=e.commit;t("setUser",null),r["a"].push("/ingreso"),localStorage.removeItem("usuario")},ingresoUsuario:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function a(){var n,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.prev=1,a.next=4,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBaEdXpIzEiPWGkLJ0pOLG-Cw1-w4uLnSo",{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})});case 4:return o=a.sent,a.next=7,o.json();case 7:if(c=a.sent,console.log("userDB",c),!c.error){a.next=11;break}return a.abrupt("return",console.log(c.error));case 11:n("setUser",c),r["a"].push("/"),localStorage.setItem("usuario",JSON.stringify(c)),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](1),console.log(a.t0);case 19:case"end":return a.stop()}}),a,null,[[1,16]])})))()},registrarUsuario:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function a(){var n,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.prev=1,a.next=4,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBaEdXpIzEiPWGkLJ0pOLG-Cw1-w4uLnSo",{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})});case 4:return o=a.sent,a.next=7,o.json();case 7:if(c=a.sent,console.log(c),!c.error){a.next=12;break}return console.log(c.error),a.abrupt("return");case 12:n("setUser",c),r["a"].push("/"),localStorage.setItem("usuario",JSON.stringify(c)),a.next=20;break;case 17:a.prev=17,a.t0=a["catch"](1),console.log(a.t0);case 20:case"end":return a.stop()}}),a,null,[[1,17]])})))()},cargarLocalStorage:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.commit,e.state,!localStorage.getItem("usuario")){t.next=5;break}a("setUser",JSON.parse(localStorage.getItem("usuario"))),t.next=6;break;case 5:return t.abrupt("return",a("setUser",null));case 6:case"end":return t.stop()}}),t)})))()}},getters:{usuarioAutenticado:function(e){return!!e.user}},modules:{}})},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),o={class:"container"};function r(e,t,a,r,c,i){var s=Object(n["C"])("Navbar"),l=Object(n["C"])("router-view");return Object(n["v"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(s),Object(n["h"])("div",o,[Object(n["k"])(l)])],64)}var c=a("5530"),i=a("5502"),s={class:"navbar navbar-dark bg-dark"},l=Object(n["h"])("span",{style:{color:"orange"},class:"font-weight-bold"},"Estacionamiento Unifranz",-1),u={class:"d-flex"},b=Object(n["h"])("i",{class:"fas fa-bullseye"},null,-1),d=Object(n["j"])(" Espacios "),p=Object(n["j"])(" Ingresar "),j=Object(n["j"])(" Registrar "),h=Object(n["h"])("i",{class:"fas fa-car"},null,-1),O=Object(n["j"])(" Vehículos "),f=Object(n["h"])("i",{class:"fas fa-users"},null,-1),m=Object(n["j"])(" Personal "),g=Object(n["h"])("i",{class:"fas fa-power-off"},null,-1),v=Object(n["j"])(" Cerrar Sesión "),y=[g,v];function k(e,t,a,o,r,c){var i=Object(n["C"])("router-link");return Object(n["v"])(),Object(n["g"])("div",s,[Object(n["k"])(i,{to:"/",class:"navbar-brand"},{default:Object(n["M"])((function(){return[l]})),_:1}),Object(n["h"])("div",u,[e.usuarioAutenticado?(Object(n["v"])(),Object(n["e"])(i,{key:0,class:"btn btn-dark mx-2",to:"/"},{default:Object(n["M"])((function(){return[b,d]})),_:1})):Object(n["f"])("",!0),e.usuarioAutenticado?Object(n["f"])("",!0):(Object(n["v"])(),Object(n["e"])(i,{key:1,class:"btn btn-dark mx-2",to:"/ingreso"},{default:Object(n["M"])((function(){return[p]})),_:1})),e.usuarioAutenticado?Object(n["f"])("",!0):(Object(n["v"])(),Object(n["e"])(i,{key:2,class:"btn btn-dark mx-2",to:"/registro"},{default:Object(n["M"])((function(){return[j]})),_:1})),e.usuarioAutenticado?(Object(n["v"])(),Object(n["e"])(i,{key:3,class:"btn btn-dark mx-2",to:"/Vehiculos"},{default:Object(n["M"])((function(){return[h,O]})),_:1})):Object(n["f"])("",!0),e.usuarioAutenticado?(Object(n["v"])(),Object(n["e"])(i,{key:4,class:"btn btn-dark mx-2",to:"/Personal"},{default:Object(n["M"])((function(){return[f,m]})),_:1})):Object(n["f"])("",!0),e.usuarioAutenticado?(Object(n["v"])(),Object(n["g"])("button",{key:5,class:"btn btn-light mx-2",onClick:t[0]||(t[0]=function(){return e.cerrarSesion&&e.cerrarSesion.apply(e,arguments)})},y)):Object(n["f"])("",!0)])])}var w={computed:Object(c["a"])({},Object(i["c"])(["usuarioAutenticado"])),methods:Object(c["a"])({},Object(i["b"])(["cerrarSesion"]))},S=a("6b0d"),x=a.n(S);const D=x()(w,[["render",k]]);var E=D,A={components:{Navbar:E},methods:Object(c["a"])({},Object(i["b"])(["cargarLocalStorage"])),created:function(){this.cargarLocalStorage()}};const P=x()(A,[["render",r]]);var C=P,M=a("a18c"),_=a("4360");Object(n["d"])(C).use(_["a"]).use(M["a"]).mount("#app")},"85e0":function(e,t,a){"use strict";var n=a("1da1"),o=(a("96cf"),a("7a23")),r={class:"my-3 font-weight-bold"},c=Object(o["h"])("hr",null,null,-1),i={"aria-label":"breadcrumb"},s={class:"breadcrumb"},l={class:"breadcrumb-item active","aria-current":"page"},u={props:{titulo:String,historial:Object},setup:function(e){var t,a=e,u=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.historial,e.abrupt("return",a.historial);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();u();var b=t[t.length-1];return t.pop(),function(e,a){var n=Object(o["C"])("router-link");return Object(o["v"])(),Object(o["g"])(o["a"],null,[Object(o["h"])("h1",r,[Object(o["j"])(Object(o["E"])(Object(o["F"])(b).direccion),1),c]),Object(o["h"])("nav",i,[Object(o["h"])("ol",s,[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(Object(o["F"])(t),(function(e){var t=e.direccion,a=e.index,r=e.ruta;return Object(o["v"])(),Object(o["g"])("li",{class:"breadcrumb-item",key:a},[Object(o["k"])(n,{to:r},{default:Object(o["M"])((function(){return[Object(o["j"])(Object(o["E"])(t),1)]})),_:2},1032,["to"])])})),128)),Object(o["h"])("li",l,Object(o["E"])(Object(o["F"])(b).direccion),1)])])],64)}}};const b=u;t["a"]=b},a18c:function(e,t,a){"use strict";a("d3b7"),a("3ca3"),a("ddb0");var n=a("6c02"),o=a("7a23"),r=Object(o["h"])("h4",{class:"alert-heading"},[Object(o["h"])("strong",null,"Información del estacionamiento")],-1),c={class:"alert-body"},i={key:0},s=Object(o["j"])("Espacios disponibles: "),l={key:1},u=Object(o["j"])("Vehiculos: "),b={key:2},d=Object(o["j"])("Personal: "),p={key:0},j=Object(o["h"])("hr",null,null,-1),h=Object(o["j"])("La cantidad de espacios que pueden disponer el personal profesional es del 60%, ese porcentaje es equivalente a "),O={key:1},f=Object(o["h"])("hr",null,null,-1),m=Object(o["j"])('No se pueden agregar más miembros del tipo "Plantel docente"'),g=[f,m],v={key:2,class:"font-weight-bold"},y=Object(o["h"])("i",{class:"fas fa-exclamation-triangle"},null,-1),k=Object(o["j"])(" Límite de datos alcanzado, limpia/completa los espacios del estacionamiento o agrega nuevos miembros del personal, vehículos"),w=[y,k],S={class:"row"},x={class:"col-12"},D=Object(o["h"])("i",{class:"fas fa-history"},null,-1),E=Object(o["j"])(" Ver registro de vehiculos "),A={class:"row"},P={class:"card-deck"};function C(e,t,a,n,f,m){var y=Object(o["C"])("Breadcrumb"),k=Object(o["C"])("router-link"),C=Object(o["C"])("Tarjeta");return Object(o["v"])(),Object(o["g"])(o["a"],null,[Object(o["k"])(y,{historial:f.bread},null,8,["historial"]),Object(o["h"])("div",{class:Object(o["q"])(["alert alert-success",[m.tope?e.activeClass:"alert alert-danger","alert alert-success"]])},[r,Object(o["h"])("div",c,[Object(o["h"])("ul",null,[null!=f.disponibleDocentes?(Object(o["v"])(),Object(o["g"])("li",i,[s,Object(o["h"])("strong",null,Object(o["E"])(f.disponibleDocentes),1)])):Object(o["f"])("",!0),0!=e.actualVehiculos&&0!=n.vehiculos.length?(Object(o["v"])(),Object(o["g"])("li",l,[u,Object(o["h"])("strong",null,Object(o["E"])(e.actualVehiculos)+" utilizados / "+Object(o["E"])(n.vehiculos.length)+" registrados",1)])):Object(o["f"])("",!0),0!=e.actualPersonal&&0!=n.personal.length?(Object(o["v"])(),Object(o["g"])("li",b,[d,Object(o["h"])("strong",null,Object(o["E"])(e.actualPersonal)+" utilizados / "+Object(o["E"])(n.personal.length)+" registrados",1)])):Object(o["f"])("",!0)]),m.comprobarDocentes?(Object(o["v"])(),Object(o["g"])("div",p,[j,h,Object(o["h"])("strong",null,Object(o["E"])(f.disponibleDocentes),1)])):0===f.disponibleDocentes?(Object(o["v"])(),Object(o["g"])("div",O,g)):Object(o["f"])("",!0),m.tope?Object(o["f"])("",!0):(Object(o["v"])(),Object(o["g"])("div",v,w))])],2),Object(o["h"])("div",S,[Object(o["h"])("div",x,[Object(o["k"])(k,{to:"/historial",class:"btn btn-info btn-block mb-3"},{default:Object(o["M"])((function(){return[D,E]})),_:1})])]),Object(o["h"])("div",A,[Object(o["h"])("div",P,[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(n.espacios,(function(e){return Object(o["v"])(),Object(o["e"])(C,{informacion:e,key:e,docenteDisponible:f.boolDisponibilidad},null,8,["informacion","docenteDisponible"])})),128))])])],64)}a("4de4"),a("fb6a");var M={class:"col-6"},_={class:"card border-primary mb-3"},L={class:"card-header"},I={key:0,class:"badge badge-danger float-right m-2"},R={key:1,class:"badge badge-primary float-right m-2"},z={key:2,class:"badge badge-warning float-right m-2"},B={class:"card-body"},H={key:0},U={class:"mt-2"},V=Object(o["h"])("b",null,"Ocupado por: ",-1),J={class:"mt-2"},T=Object(o["h"])("b",null,"Cargo del personal: ",-1),N={class:"mt-2"},F=Object(o["h"])("b",null,"Nombres: ",-1),G={class:"mt-2"},q=Object(o["h"])("b",null,"Vehículo utilizado: ",-1),W={class:"mt-2"},X=Object(o["h"])("b",null,"Hora de ingreso: ",-1),Y={class:"mt-2"},K=Object(o["h"])("b",null,"Hora de salida: ",-1),Q={key:1},Z=Object(o["h"])("div",{class:"jumbotron"},"Este espacio aún no fue asignado, puedes asignar uno pulsando el botón de abajo",-1),$=[Z],ee={class:"card-footer"},te={key:0,class:"row"},ae={class:"col"},ne={class:"col-10"},oe={key:1,class:"row"},re={class:"col"};function ce(e,t,a,n,r,c){var i=Object(o["C"])("ModalLimpiar"),s=Object(o["C"])("ModalFinalizar"),l=Object(o["C"])("BotonModificar");return Object(o["v"])(),Object(o["g"])("div",M,[Object(o["h"])("div",_,[Object(o["h"])("div",L,[Object(o["h"])("strong",null,"Espacio "+Object(o["E"])(a.informacion.id),1),r.expirado?(Object(o["v"])(),Object(o["g"])("span",I,"Estado: A sobrehora")):c.estaActivo?(Object(o["v"])(),Object(o["g"])("span",R,"Estado: Activo")):(Object(o["v"])(),Object(o["g"])("span",z,"Estado: Disponible"))]),Object(o["h"])("div",B,[c.estaActivo?(Object(o["v"])(),Object(o["g"])("div",H,[Object(o["h"])("div",U,[V,Object(o["j"])(" "+Object(o["E"])(a.informacion.nombres),1)]),Object(o["h"])("div",J,[T,Object(o["j"])(" "+Object(o["E"])(a.informacion.cargo),1)]),Object(o["h"])("div",N,[F,Object(o["j"])(" "+Object(o["E"])(a.informacion.nombres),1)]),Object(o["h"])("div",G,[q,Object(o["j"])(" "+Object(o["E"])(a.informacion.placa),1)]),Object(o["h"])("div",W,[X,Object(o["j"])(" "+Object(o["E"])(a.informacion.h_ingreso),1)]),Object(o["h"])("div",Y,[K,Object(o["j"])(" "+Object(o["E"])(a.informacion.h_salida),1)])])):(Object(o["v"])(),Object(o["g"])("div",Q,$))]),Object(o["h"])("div",ee,[c.estaActivo?(Object(o["v"])(),Object(o["g"])("div",te,[Object(o["h"])("div",ae,[Object(o["k"])(i,{datos:a.informacion},null,8,["datos"])]),Object(o["h"])("div",ne,[Object(o["k"])(s,{texto:"Completar ciclo",datos:a.informacion},null,8,["datos"])])])):(Object(o["v"])(),Object(o["g"])("div",oe,[Object(o["h"])("div",re,[Object(o["k"])(l,{texto:"Asignar",id:a.informacion.id,docenteDisponible:a.docenteDisponible},null,8,["id","docenteDisponible"])])]))])])])}var ie=Object(o["h"])("i",{class:"fas fa-edit"},null,-1);function se(e,t,a,n,r,c){var i=Object(o["C"])("router-link");return Object(o["v"])(),Object(o["e"])(i,{class:"btn btn-primary btn-block",to:{name:"ModificarEspacio",params:{id:a.id}}},{default:Object(o["M"])((function(){return[ie,Object(o["j"])(" "+Object(o["E"])(a.texto),1)]})),_:1},8,["to"])}var le={props:{id:String,texto:String},components:{},methods:{}},ue=a("6b0d"),be=a.n(ue);const de=be()(le,[["render",se]]);var pe=de,je=["data-target"],he=Object(o["h"])("i",{class:"fas fa-sync"},null,-1),Oe=["id","aria-labelledby"],fe={class:"modal-dialog",role:"document"},me={class:"modal-content"},ge={class:"modal-header"},ve={class:"modal-title",id:"exampleModalLabel"},ye=Object(o["h"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(o["h"])("span",{"aria-hidden":"true"},"×")],-1),ke=Object(o["h"])("div",{class:"modal-body"},[Object(o["h"])("p",{class:"font-weight-bold"},"¿Desea marcar este ciclo como completado?"),Object(o["h"])("p",null,"La información presente en este espacio será registrada dentro del historial.")],-1),we={class:"modal-footer"},Se=Object(o["h"])("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancelar",-1);function xe(e,t,a,n,r,c){return Object(o["v"])(),Object(o["g"])(o["a"],null,[Object(o["h"])("button",{type:"button",class:"btn btn-primary btn-block","data-toggle":"modal","data-target":"#completar"+a.datos.id},[he,Object(o["j"])(" "+Object(o["E"])(a.texto),1)],8,je),Object(o["h"])("div",{class:"modal fade",id:"completar"+a.datos.id,tabindex:"-1",role:"dialog","aria-labelledby":"completar"+a.datos.id,"aria-hidden":"true"},[Object(o["h"])("div",fe,[Object(o["h"])("div",me,[Object(o["h"])("div",ge,[Object(o["h"])("strong",ve,Object(o["E"])(a.texto),1),ye]),ke,Object(o["h"])("div",we,[Se,Object(o["h"])("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal",onClick:t[0]||(t[0]=function(e){return c.registrar(a.datos.id)})},"Completar ciclo")])])])],8,Oe)],64)}var De=a("1da1"),Ee=(a("4d90"),a("96cf"),a("beb9")),Ae=a("d69a"),Pe=a("98a0"),Ce=(a("c4bb"),{props:{datos:Object,texto:String},components:{CampoLabel:Ee["a"]},setup:function(){var e=function(){Object(Pe["a"])("Datos registrados y limpiados",{toastBackgroundColor:"gray"})};return{toast:e}},methods:{registrar:function(e){var t=this;return Object(De["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(Ae["e"])(e,{nombres:t.datos.nombres,placa:t.datos.placa,h_ingreso:t.datos.h_ingreso,h_salida:t.datos.h_salida,cargo:t.datos.cargo,fhregistro:t.horaActualAhora()});case 2:t.toast(),t.limpiar(e);case 4:case"end":return a.stop()}}),a)})))()},limpiar:function(e){return Object(De["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Ae["a"])(e,{nombres:"",placa:"",h_ingreso:"",h_salida:"",estado:"Disponible",cargo:""});case 2:case"end":return t.stop()}}),t)})))()},horaActualAhora:function(){var e=new Date,t=String(e.getDate()).padStart(2,"0")+"/"+String(e.getMonth()+1).padStart(2,"0")+"/"+e.getFullYear(),a=e.getHours();a=("0"+a).slice(-2);var n=e.getMinutes();return n=("0"+n).slice(-2),t=t+" "+a+":"+n,t}}});const Me=be()(Ce,[["render",xe]]);var _e=Me,Le=["data-target"],Ie=Object(o["h"])("i",{class:"fas fa-broom"},null,-1),Re=[Ie],ze=["id","aria-labelledby"],Be={class:"modal-dialog",role:"document"},He={class:"modal-content"},Ue=Object(o["i"])('<div class="modal-header"><strong class="modal-title" id="exampleModalLabel">Limpiar información</strong><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="modal-body"><p class="font-weight-bold">¿Seguro desea limpiar estos campos?</p><p>Al limpiarlos se borrará toda información presente en este campo.</p></div>',2),Ve={class:"modal-footer"},Je=Object(o["h"])("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancelar",-1);function Te(e,t,a,n,r,c){return Object(o["v"])(),Object(o["g"])(o["a"],null,[Object(o["h"])("button",{type:"button",class:"btn btn-danger","data-toggle":"modal","data-target":"#limpiar"+a.datos.id},Re,8,Le),Object(o["h"])("div",{class:"modal fade",id:"limpiar"+a.datos.id,tabindex:"-1",role:"dialog","aria-labelledby":"limpiar"+a.datos.id,"aria-hidden":"true"},[Object(o["h"])("div",Be,[Object(o["h"])("div",He,[Ue,Object(o["h"])("div",Ve,[Je,Object(o["h"])("button",{type:"button",class:"btn btn-danger","data-dismiss":"modal",onClick:t[0]||(t[0]=function(e){return c.limpiar(a.datos.id)})},"Limpiar")])])])],8,ze)],64)}var Ne={props:{datos:Object,texto:String},components:{CampoLabel:Ee["a"]},setup:function(){var e=function(){Object(Pe["a"])("Datos registrados y limpiados",{toastBackgroundColor:"gray"})};return{toast:e}},methods:{registrar:function(e){var t=this;return Object(De["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(Ae["e"])(e,{nombres:t.datos.nombres,placa:t.datos.placa,h_ingreso:t.datos.h_ingreso,h_salida:t.datos.h_salida,cargo:t.datos.cargo,fhregistro:t.horaActualAhora()});case 2:t.toast(),t.limpiar(e);case 4:case"end":return a.stop()}}),a)})))()},limpiar:function(e){return Object(De["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Ae["a"])(e,{nombres:"",placa:"",h_ingreso:"",h_salida:"",estado:"Disponible",cargo:""});case 2:case"end":return t.stop()}}),t)})))()},horaActualAhora:function(){var e=new Date,t=String(e.getDate()).padStart(2,"0")+"/"+String(e.getMonth()+1).padStart(2,"0")+"/"+e.getFullYear(),a=e.getHours();a=("0"+a).slice(-2);var n=e.getMinutes();return n=("0"+n).slice(-2),t=t+" "+a+":"+n,t}}};const Fe=be()(Ne,[["render",Te]]);var Ge=Fe,qe={props:{informacion:Object,docenteDisponible:Boolean},data:function(){return{horaDeAhora:"",expirado:!1}},components:{BotonModificar:pe,ModalFinalizar:_e,ModalLimpiar:Ge},created:function(){var e=this;setInterval((function(){e.obtenerHoraDeAhora()}),1e3)},methods:{obtenerHoraDeAhora:function(){var e=new Date,t=e.getHours();t=("0"+t).slice(-2);var a=e.getMinutes();a=("0"+a).slice(-2),e=t+":"+a,this.horaDeAhora=e,this.compararHora(this.horaDeAhora,this.informacion.h_salida)},compararHora:function(e,t){if(""!=t){var a="01/01/2021",n=new Date(a+" "+e),o=new Date(a+" "+t);n>=o&&(this.expirado=!0)}}},computed:{estaActivo:function(){return""!=this.informacion.nombres}}};const We=be()(qe,[["render",ce]]);var Xe=We,Ye=a("85e0"),Ke={name:"Home",components:{Tarjeta:Xe,Breadcrumb:Ye["a"]},data:function(){return{bread:[{direccion:"Estacionamiento Unifranz",ruta:"/"}],disponibleDocentes:null,boolDisponibilidad:!1}},setup:function(){var e=Object(Ae["b"])(),t=Object(Ae["c"])(),a=Object(Ae["d"])();return{espacios:e,personal:t,vehiculos:a}},updated:function(){this.obtenerEspaciosDisponibles(),this.obtenerDatos()},methods:{obtenerEspaciosDisponibles:function(){this.disponibleDocentes=parseInt(.6*this.espacios.length)-this.espacios.filter((function(e){return"Plantel docente"==e.cargo})).length},obtenerDatos:function(){console.log(this.personal),console.log(this.vehiculos),this.actualPersonal=this.espacios.filter((function(e){return""!=e.nombres})).length,this.actualVehiculos=this.espacios.filter((function(e){return""!=e.placa})).length},horaObtener:function(){var e=new Date,t=e.getHours();t=("0"+t).slice(-2);var a=e.getMinutes();a=("0"+a).slice(-2);var n="01/01/2021",o=new Date(n+" 11:30"),r=new Date(n+" 10:30");o>=r?console.log("fecha1"):console.log("fecha2")}},computed:{comprobarDocentes:function(){return this.disponibleDocentes>0?(this.boolDisponibilidad=!1,!0):0===this.disponibleDocentes?(this.boolDisponibilidad=!0,!1):void 0},tope:function(){return this.actualVehiculos!==this.vehiculos.length&&this.actualPersonal!==this.personal.length}}};const Qe=be()(Ke,[["render",C]]);var Ze=Qe,$e=a("4360"),et=[{path:"/",name:"Home",component:Ze,meta:{rutaProtegida:!0}},{path:"/historial",name:"Historial",component:function(){return a.e("about").then(a.bind(null,"9533"))},meta:{rutaProtegida:!0}},{path:"/editar/:id",name:"Editar",component:function(){return a.e("about").then(a.bind(null,"1a24"))},meta:{rutaProtegida:!0}},{path:"/registro",name:"Registro",meta:{noIniciarSesion:!0},component:function(){return a.e("about").then(a.bind(null,"0d36"))}},{path:"/ingreso",name:"Ingreso",meta:{noIniciarSesion:!0},component:function(){return a.e("about").then(a.bind(null,"4afd"))}},{path:"/vehiculos",name:"Vehiculos",meta:{rutaProtegida:!0},component:function(){return a.e("about").then(a.bind(null,"935c"))}},{path:"/vehiculos/registro",name:"RegistroVehiculos",meta:{rutaProtegida:!0},component:function(){return a.e("about").then(a.bind(null,"1f1b"))}},{path:"/vehiculos/modificar/:id",name:"ModificarVehiculos",props:!0,meta:{rutaProtegida:!0},component:function(){return a.e("about").then(a.bind(null,"d4ce"))}},{path:"/personal",name:"Personal",meta:{rutaProtegida:!0},component:function(){return a.e("about").then(a.bind(null,"b8ce"))}},{path:"/personal/registro",name:"RegistroPersonal",meta:{rutaProtegida:!0},component:function(){return a.e("about").then(a.bind(null,"55fa"))}},{path:"/personal/modificar/:id",name:"ModificarPersonal",meta:{rutaProtegida:!0},component:function(){return a.e("about").then(a.bind(null,"97d4"))}},{path:"/modificar/:id/",name:"ModificarEspacio",meta:{rutaProtegida:!0},component:function(){return a.e("about").then(a.bind(null,"cbd0"))}}],tt=Object(n["a"])({history:Object(n["b"])("/"),routes:et});tt.beforeEach((function(e,t,a){e.meta.rutaProtegida?$e["a"].getters.usuarioAutenticado?a():a("/ingreso"):a()})),tt.beforeEach((function(e,t,a){e.meta.noIniciarSesion&&$e["a"].getters.usuarioAutenticado?a("/"):a()}));t["a"]=tt},beb9:function(e,t,a){"use strict";var n=a("7a23"),o={for:"nombres",class:"font-weight-bold"};function r(e,t,a,r,c,i){return Object(n["v"])(),Object(n["g"])("label",o,Object(n["E"])(a.nombre),1)}var c={props:["nombre"]},i=a("6b0d"),s=a.n(i);const l=s()(c,[["render",r]]);t["a"]=l},d69a:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return b})),a.d(t,"d",(function(){return d}));var n=a("5530"),o=(a("1da1"),a("d81d"),a("96cf"),a("166b")),r=a("7a23"),c=o["a"].collection("espacios"),i=o["a"].collection("registros"),s=function(e,t){return c.doc(e).update(t)},l=function(e,t){i.add(t)},u=function(){var e=o["a"].collection("espacios").orderBy("estado","asc"),t=Object(r["y"])([]),a=e.onSnapshot((function(e){t.value=e.docs.map((function(e){return Object(n["a"])({id:e.id},e.data())}))}));return Object(r["u"])(a),t},b=function(){var e=o["a"].collection("personal"),t=Object(r["y"])([]),a=e.onSnapshot((function(e){t.value=e.docs.map((function(e){return Object(n["a"])({id:e.id},e.data())}))}));return Object(r["u"])(a),t},d=function(){var e=o["a"].collection("vehiculos"),t=Object(r["y"])([]),a=e.onSnapshot((function(e){t.value=e.docs.map((function(e){return Object(n["a"])({id:e.id},e.data())}))}));return Object(r["u"])(a),t}}});
//# sourceMappingURL=app.7051846d.js.map